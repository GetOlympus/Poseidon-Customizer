!function(t){function n(e,o){var n=this;n.$el=e,n.options=o,void 0!==(e=n.$el.attr("data-sidepanel"))&&!1!==e&&(n.$target=t("#"+e),n.$target.length&&(n.options.body_opened="poseidon-sidepanel-opened",n.options.container=".wp-full-overlay",n.options.fog_class="pos-p-sidepanel-fog",n.options.panel_class="pos-p-sidepanel",n.$body=t("body"),n.$container=n.$body.find(n.options.container),n.$container.length&&(n.$parent=n.$el.closest(n.options.parent),n.$parent.length&&n.$el.on("click",t.proxy(n.clickEvent,n)))))}n.prototype.$el=null,n.prototype.$body=null,n.prototype.$container=null,n.prototype.$fog=null,n.prototype.$panel=null,n.prototype.$parent=null,n.prototype.$target=null,n.prototype.options=null,n.prototype.clickEvent=function(e){e.preventDefault();e=this;e.$el.hasClass(e.options.opened)?(e.$el.removeClass(e.options.opened),e.deleteSidepanel()):(e.createSidepanel(),e.$el.addClass(e.options.opened))},n.prototype.createSidepanel=function(){var o=this;o.$panel=t(document.createElement("div")),o.$panel.addClass(o.options.panel_class),o.detach(o.$panel),o.$fog=t(document.createElement("div")),o.$fog.addClass(o.options.fog_class),o.$container.append(o.$panel),o.$container.append(o.$fog),o.$body.addClass(o.options.body_opened),o.$fog.on("click",function(e){e.preventDefault(),o.$el.removeClass(o.options.opened),o.deleteSidepanel()})},n.prototype.deleteSidepanel=function(){var e=this;e.$body.removeClass(e.options.body_opened),setTimeout(function(){e.detach(e.$parent),e.$fog.remove(),e.$fog=null,e.$panel.remove(),e.$panel=null},e.options.delay)},n.prototype.detach=function(e){e.append(this.$target)};var o={init:function(e){if(!this.length)return!1;var o={delay:200,opened:"opened",parent:"#parent"};return this.each(function(){e&&t.extend(o,e),new n(t(this),o)})}};t.fn.poseidonSidepanel=function(e){return o[e]?o[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?(t.error("Method "+e+" does not exist on poseidonSidepanel"),!1):o.init.apply(this,arguments)}}(window.jQuery);